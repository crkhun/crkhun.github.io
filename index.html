<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>8.00ì´ˆ</title>
    <style>
     html, body {
         margin: 0;
         padding: 0;
         background: #000;
         overflow: hidden;
     }
     canvas {
         display: block;
     }
    </style>
  </head>
  <body>
    <canvas id="game"></canvas>
    <script>
     const canvas = document.getElementById('game');
     const ctx = canvas.getContext('2d');

     function resize() {
         canvas.width = window.innerWidth;
         canvas.height = window.innerHeight;
     }
     window.addEventListener('resize', resize);
     resize();

     let startTime = null;
     let running = false;
     let elapsed = 0;
     let message = '';
     let shake = 0;
     let fireworks = [];

     function start() {
         if (running) return;
         startTime = performance.now();
         running = true;
         message = '';
     }

     function stop() {
         if (!running) return;
         running = false;
         elapsed = (performance.now() - startTime) / 1000;
         const diff = Math.abs(elapsed - 8.00);

         if (diff <= 0.03) {
             elapsed = 8.00;
             message = 'JACKPOT!';
             spawnFireworks();
         } else {
             message = 'MISS';
             shake = 20;
         }
     }

     window.addEventListener('keydown', e => {
         if (e.code === 'Space') running ? stop() : start();
     });
     window.addEventListener('click', () => running ? stop() : start());

     function spawnFireworks() {
         fireworks = [];
         for (let i = 0; i < 150; i++) {
             fireworks.push({
                 x: canvas.width / 2,
                 y: canvas.height / 2,
                 vx: (Math.random() - 0.5) * 10,
                 vy: (Math.random() - 0.5) * 10,
                 life: 100,
                 hue: Math.random() * 360
             });
         }
     }

     function drawFireworks() {
         fireworks.forEach(p => {
             p.x += p.vx;
             p.y += p.vy;
             p.vy += 0.05;
             p.life--;
             ctx.fillStyle = `hsl(${p.hue},100%,60%)`;
             ctx.fillRect(p.x, p.y, 3, 3);
         });
         fireworks = fireworks.filter(p => p.life > 0);
     }

     function draw() {
         ctx.save();
         ctx.clearRect(0, 0, canvas.width, canvas.height);

         if (shake > 0) {
             ctx.translate((Math.random() - 0.5) * shake, 0);
             shake--;
         }

         ctx.fillStyle = '#111';
         ctx.fillRect(0, 0, canvas.width, canvas.height);

         if (running) {
             elapsed = (performance.now() - startTime) / 1000;
         }

         ctx.fillStyle = '#ff3333';
         ctx.font = '80px monospace';
         ctx.textAlign = 'center';
         ctx.fillText(elapsed.toFixed(2), canvas.width / 2, canvas.height / 2);

         ctx.font = '30px monospace';
         ctx.fillStyle = '#ffd700';
         ctx.fillText('TOUCH', canvas.width / 2, canvas.height / 2 + 60);

         if (message) {
             ctx.font = '50px monospace';
             ctx.fillStyle = message === 'JACKPOT!' ? '#00ff00' : '#ff0000';
             ctx.fillText(message, canvas.width / 2, canvas.height / 2 - 80);
         }

         drawFireworks();

         ctx.restore();
         requestAnimationFrame(draw);
     }

     draw();
    </script>
  </body>
</html>
